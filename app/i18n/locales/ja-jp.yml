appName: 天井カウンター

ui:
  ok: OK
  cancel: キャンセル
  copied: コピーしました

games:
  genshin: 原神
  hsr: 崩壊：スターレイル

placeholders:
  genshin:
    game: 原神
    gacha: 祈願
    historyOperation: 「祈願」→「祈願履歴」
  hsr:
    game: 崩壊：スターレイル
    gacha: 跳躍
    historyOperation: 「跳躍」→「詳細を確認」→「跳躍履歴」

about:
  title: このアプリについて
  content: |
    ## 本機能について

    本機能は、{gacha}履歴をゲームより自動的に取得して天井カウントを表示します。これを利用するには、下記の方法で取得したURLが必要になります。

    ## 安全性について

    本機能で使用するURLには、__{gacha}履歴の取得のみを許可された__ アクセスキーが付帯しています。
    そのため、このアクセスキーを使用してメールアドレスやユーザー名など個人情報にアクセスしたり、
    ゲームにログインしたりすることはできません。ご安心ください。

    ## 注意事項

    - <span class="text-warning font-weight-bold">このURLは24時間で有効期限が切れます。その場合は再度同じ方法で新しく取得する必要があります。</span>
    - <span class="text-warning font-weight-bold">現在、Android端末単体でURLを取得する方法が存在しません。</span>

howToGetUrl:
  windows:
    title: URL取得方法（Windows）
    contents: |
      ※Windows 11でのみ動作確認済み。
      
      1. {game}を起動し、{historyOperation}を選択します。
      1. WindowsキーとRキーを同時に押し、「ファイル名を指定して実行」を開きます。
      1. 以下のコマンドをコピー＆ペーストし、Enterキーを押します。
          <div id="cmd-win" class="d-flex flex-row-reverse align-center"><pre class="flex-grow-1"><code>{cmdline}</code></pre></div>
      1. URLがコピーされるので、本ページに貼り付けてください。
    cmdline: |
      {'powershell -Command "iex ""&{$(irm https://gist.githubusercontent.com/chika3742/0542db8a5e329fb15af9e37714e92893/raw/getlink.ps1)} global -lang ja-JP"""'}
  ios:
    title: URL取得方法 (iOS)
    contents: |
      ### 準備 (初回のみ必要)
      
      1. App Storeより[Stream]({streamUrl})アプリをインストールします。 
      1. Streamアプリを起動し、「Sniff Now」をタップして「"Stream"がVPN構成の追加を求めています」というダイアログが表示されたら「許可」をタップします。(パスコードの入力が要求されるので、入力します。) 
      1. Streamアプリに戻ると「You must install CA」という内容のダイアログが表示されるので、「Install CA」をタップし、「Install CA Certificate」をタップします。 
      1. 「このWebサイトは構成プロファイルを・・・」と表示されるので、「許可」をタップします。
      1. 本体設定を開き、一般 ＞ VPNとデバイス管理 ＞ Stream Generated CA 〜 ＞ 右上の「インストール」＞ パスコード入力 ＞ 右上の「インストール」 ＞ インストール の順にタップします。 
      1. アプリに戻ると「For iOS 10.3+ and iOS 11・・・」と表示されることがありますが、青の「I've trusted」をタップします。
      1. アプリトップ画面下部にある緑色の「Sniff Mode」をタップします。
      1. 「Switch to Whitelist Mode」のスイッチをオンにし、「Whitelist Settings」をタップします。
      1. 「Input domain to enable sniffing」と書かれたテキストボックスに「public-operation-hkrpg-sg.hoyoverse.com」と入力（コピペ）し、右上の「Apply」をタップします。
      <div id="cmd-ios" class="d-flex flex-row-reverse align-center"><pre class="flex-grow-1"><code>{cmdline}</code></pre></div>
      
      ### URL取得
      
      1. Streamアプリを開き、「Sniff Now」をタップします。
      1. {game}を起動し、{historyOperation}を開きます。（「{gacha}履歴」をタップした地点でSniffが開始されていれば構いません）
      1. Streamアプリに戻り、「Stop Sniffing」をタップし、右の「Sniff History」をタップします。
      1. 一番上の時間をタップし、その中で一番上の項目をタップします。
      1. 上部の「Request」タブをタップし、「REQUEST LINE」の下の部分をタップし、「Copy Url」をタップするとURLをコピーできます。
  macos:
    title: URL取得方法 (macOS with PlayCover)
    contents: |
      ### 準備 (初回のみ必要)
      
      1. [Homebrew](https://brew.sh) と [mitmproxy](https://mitmproxy.org) をインストールしておきます。
      1. ターミナルで以下のコマンドを実行します。パスワードの入力が要求されるので、入力します。
          <div id="cmd-macos-1" class="d-flex flex-row-reverse align-center"><pre class="flex-grow-1"><code>{cmdline1}</code></pre></div>
          ※このコマンドは、証明書を信頼することでHTTPS通信を監視できるようにするためのものです。
      
      ### URL取得
      
      1. ターミナルで以下のコマンドを実行します。
          <div id="cmd-macos-2" class="d-flex flex-row-reverse align-center"><pre class="flex-grow-1"><code>{cmdline2}</code></pre></div>
      1. {game}を起動し、{historyOperation}を開きます。
      1. 自動的にURLがコピーされ、スクリプトが終了します。

fetchAllHistory: 天井カウントの履歴を表示
fetchAllHistoryDesc: オンにすると過去6ヶ月（24ヶ月）の全ての履歴を取得し、天井カウントの履歴を確認できますが、初回の取得に時間がかかります。変更するには、履歴をクリアする必要があります。
urlInput: URL入力
getHistory: 履歴を取得
clearHistory: 履歴をクリア
clearHistoryConfirm: 履歴をクリアしますか？この操作は取り消せません。
historyCleared: 履歴をクリアしました
preparing: 履歴取得の準備をしています...
progress: "{count} 件の{gacha}を取得しました（{current}/{total}）"
historyFetched: "{count} 件の履歴を取得しました"
noNewHistory: 新しい履歴はありません。引いたばかりの場合は、最長1時間後に再度お試しください。

errors:
  invalidUrl: URLの形式が正しくありません。再度確認してください。
  invalidResponse: サーバーから無効な返答を受け取りました。しばらくしてから再度お試しください。
  network: ネットワークエラーが発生しました。しばらくしてから再度お試しください。
  authKeyTimeout: URLの有効期限が切れています。再度取得してください。
  invalidAuthKey: 無効なURLです。再度取得してください。
  tooManyRequests: サーバーへのリクエストが多すぎます。しばらくしてから再度お試しください。
  unknown: 不明なエラーが発生しました。しばらくしてから再度お試しください。
